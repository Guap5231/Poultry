<!DOCTYPE html> 
<html>
	<head>
		<meta charset="utf-8">
		<title>Мануал для разработчиков</title>
	</head>
	<body>
		<h1>Мануал для разработчиков</h1>
		<h2>Структура серверных файлов</h2>
		<p>/system/config.php — конфигурационный файл сайта, содержит в себе настройки подключения к БД,
		   также в нем производится инициализация глобальных переменных.</p>
		 <p>/system/sys_lib.php — библиотека, предназначенная для работы системы.</p>
		 <p>/system/mod_lib.php — библиотека, предназначенная для работы модулей.</p>
		 <p>/client_side/ — каталог, содержащий файлы, предназначенные для исполнения на стороне клиента.</p>
		 <p>/modules/&lt;module_name&gt;/logic.php — файл модуля, предназначенный
		    для выполнения операций, отвечающих за логику работы, также содержит в себе значения title и h1 сайта.</p>
		 <p>/modules/&lt;module_name&gt;/view.php — файл модуля, предназначенный для выполнения операций,
		    отвечающих за отображение данных в модуле.</p>
		<h2>Описание работы сайта</h2>
		<p>При выполнении любого запроса, сайт:</p>
		<ol>
			<li>Подключает конфиг и библиотеки.</li>
			<li>Подключается к базе данных, дальнейшая работа производится через PDO объект ($pdo).</li>
			<li>Инициализирует сессию. Если есть актуальные cookies, то сессия инициализируется.</li>
			<li>Проверяет уровень доступа пользователя. Если пользователь не авторизован, 
			    уровень доступа = 0, этот же уровень доступа у зарегестрированных пользователей, 
			    не прошедших валидацию администратором сайта. Минимальный уровень доступа 0 
			    - гость или неактивированный пользователь, максимальный 99 - администратор 
			    сайта (наблюдатель 1, диетолог 2).</li>
			<li>Устанавливает отображаемый пользователю модуль по умолчанию, в зависимости от уровня доступа пользователя.</li>
			<li>Устанавливает текущий отображаемый модуль, в зависимости от параметра GET (mod) и факта наличия файла модуля. Если никакого модуля не указано, то будет использован модуль по умолчанию.</li>
			<li>Подключается часть модуля, отвечающая за логику.</li>
			<li>Выводится шаблон сайта.</li>
			<li>В шаблон выводится часть модуля, отвечающая за предсталение.</li>
		</ol>
	</body>
</html>
